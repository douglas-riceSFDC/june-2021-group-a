<template>
    <div class="slds-grid slds-var-p-around_small">
        <div class="slds-col slds-size_1-of-2">
            <lightning-formatted-text value="Reviews" class="slds-text-heading_large">
            </lightning-formatted-text>
        </div>
        <div class="slds-col slds-size_1-of-2">
            <div class="slds-clearfix">
                <c-review-submission></c-review-submission>
                <c-star-rating rating={averageUserRating} class="slds-float_right"></c-star-rating>
                <lightning-formatted-number value={averageUserRating} class="slds-text-body_regular slds-var-p-around_medium">
                </lightning-formatted-number>
                <lightning-formatted-text value="Average Rating: "
                                class="slds-text-heading_small slds-float_right slds-var-p-right_large">
                </lightning-formatted-text>
            </div>
        </div>
    </div>
    <div class="slds-var-p-around_medium">
        <template for:each={reviews} for:item="review">
			<div key={review.Id} class="slds-var-p-around_small">
                <lightning-card>
                    <slot></slot>
                    <div slot="title">
                        <lightning-avatar size="large" variant="circle" src={review.Reviewer__r.MediumPhotoUrl}
                                        fallback-icon-name="standard:user" >
                        </lightning-avatar>
                        <lightning-formatted-text value={review.Reviewer__r.Name} class="slds-text-heading_medium slds-var-p-left_small">
                        </lightning-formatted-text>
                    </div>
                    <div slot="actions">
                        <c-star-rating rating={review.Rating__c}></c-star-rating>
                    </div>
                    <div>
                        <lightning-formatted-text value={review.Review__c} class="slds-text-body_regular slds-var-p-around_medium">
                        </lightning-formatted-text>
                    </div>
                </lightning-card>
			</div>
		</template>
    </div>
</template>
